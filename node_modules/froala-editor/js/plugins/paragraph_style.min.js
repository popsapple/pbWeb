/*!
 * froala_editor v2.8.4 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2018 Froala Labs
 */
! function(t) {
    "function" == typeof define && define.amd ? define(["jquery"], t) : "object" == typeof module && module.exports ? module.exports = function(e, a) {
        return a === undefined && (a = "undefined" != typeof window ? require("jquery") : require("jquery")(e)), t(a)
    } : t(window.jQuery)
}(function(i) {
    i.extend(i.FE.DEFAULTS, {
        paragraphStyles: [],
        paragraphMultipleStyles: !0
    }), i.FE.PLUGINS.paragraphStyle = function(o) {
        return {
            _init: function() {},
            apply: function(e, a, t) {
                $(pb_selected_item).hasClass(e) ? $(pb_selected_item).removeClass(e) : $(pb_selected_item).addClass(e);
                if(e == "disabled"){
                    $(pb_selected_item).attr(e) ? $(pb_selected_item).removeAttr(e) : $(pb_selected_item).attr(e, "true");
                }
            },
            refreshOnShow: function(e, a) {
                var t = o.selection.blocks();
                if (t.length) {
                    var r = i(t[0]);
                    a.find(".fr-command").each(function() {
                        var e = i(this).data("param1"),
                            a = r.hasClass(e);
                        i(this).toggleClass("fr-active", a).attr("aria-selected", a)
                    })
                }
            }
        }
    }, i.FE.RegisterCommand("paragraphStyle", {
        type: "dropdown",
        html: function() {
            var e = '<ul class="paragraphStyleList fr-dropdown-list" role="presentation">',
            a_ = this.opts.paragraphStyles;
            for (var t_ in a_) {
                if(a_.hasOwnProperty(t_)){
                    e += '<li>';
                    var count = 0;
                    for (var t in a_[t_]) {
                        var a = a_[t_];
                        if(a.hasOwnProperty(t)){
                            var max = Object.keys(a).length;
                            if(t.indexOf("styleGroupsTitle") != -1){
                                e += '<ul data-tagType="'+a['styleGroupsTags']+'" data-componentType="'+a['styleGroupsComponent']+'"><li><strong>'+a[t]+'</strong></li>';
                            }else if(t.indexOf("styleGroups") != -1) {
                                count++;
                                continue;
                            }else{
                                e += '<li role="presentation"><a class="fr-command ' + t + '" tabIndex="-1" role="option" data-cmd="paragraphStyle" data-param1="' + t + '" title="' + this.language.translate(a[t]) + '">' + this.language.translate(a[t]) + "</a></li>";
                            }
                            count++;
                            if(count == max){
                                e += '</ul>';
                            }
                        }
                    }
                    e += '</li>';
                }
            }
           return e += "</ul>"
        },
        title: "Paragraph Style",
        callback: function(e, a) {
            this.paragraphStyle.apply(a)
        },
        refreshOnShow: function(e, a) {
            var that = this;
            that.selected_item ? pb_selected_item = that.selected_item : '';
            try {pb_selected_img ? pb_selected_item = pb_selected_img[0] : pb_selected_item = that.selected_item;}catch(err){}
            if(!$(".fr-image-resizer.fr-active") || $(".fr-image-resizer.fr-active").length == 0){
                pb_selected_item = that.selected_item;
            }
            $(".paragraphStyleList li ul").each(function(){
                $(this).find("> li").hide();

                var tag_check;
                $(this).attr("data-tagType").split(" ").filter(word => word == $(pb_selected_item).get(0).tagName.toLowerCase()).length == 0 ? tag_check = false: tag_check = true;
                
                if($(this).attr("data-tagType") == "ani" && $(this).attr("data-componentType") == "ani"){
                    $(this).find("> li").show();   
                }

                if($(this).attr("data-componentType") == "ani" && tag_check){
                    $(this).find("> li").show();   
                }

                if($(this).attr("data-componentType") != "ani" && tag_check){
                    $(this).find("> li").show();   
                }

                /*if($(this).attr("data-componentType") != "ani" && $(this).attr("data-componentType") == $(this).parent().prev().find("ul").attr("data-componentType")){
                    $(this).parent().addClass("empty");
                    $(this).find("li").eq(0).remove();Type='"+$(this).attr("data-componentType")+"'
                    $(this).parent().prev().find("ul[data-component]").eq(0).append($(this).find("li").unwrap());
                    $(".empty").remove();
                }*/
            });
            //$(".empty").remove();
            $(".paragraphStyleList ul li").each(function(){
                $(this).removeClass("fr-active");
                if($(pb_selected_item).attr("class").indexOf($(this).find("a").attr("data-param1")) != -1){
                    $(this).find("a").addClass("fr-active");
                }
            });

            this.paragraphStyle.refreshOnShow(e, a);
        },
        plugin: "paragraphStyle"
    }), i.FE.DefineIcon("paragraphStyle", {
        NAME: "magic"
    })
});